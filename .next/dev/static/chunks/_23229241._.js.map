{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/hung.doan/Documents/GitHubPersonal/nutrition-app/lib/recommendationEngine.ts"],"sourcesContent":["import { getDB } from \"@/lib/db\";\nimport {\n  RECOMMENDATION_SETS,\n  type RecommendationSetId,\n} from \"@/data/recommendations\";\n\ntype Sex = \"male\" | \"female\";\n\nexport type Profile = {\n  recommendationSet: RecommendationSetId;\n  sex: Sex;\n  age: number;\n};\n\nexport async function getDailyTargets(\n  profile: Profile\n): Promise<Record<string, number>> {\n  const db = await getDB();\n  const overrides = db.nutrientOverrides ?? {};\n\n  const set = RECOMMENDATION_SETS[profile.recommendationSet];\n  const targets: Record<string, number> = {};\n\n  for (const r of set.recommendations) {\n    if (\n      (r.sex === \"any\" || r.sex === profile.sex) &&\n      profile.age >= r.age_min &&\n      profile.age <= r.age_max\n    ) {\n      targets[r.nutrient_id] = r.daily_value;\n    }\n  }\n\n  // overrides always win\n  for (const [id, value] of Object.entries(overrides)) {\n    targets[id] = value as number;\n  }\n\n  return targets;\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAaO,eAAe,gBACpB,OAAgB;IAEhB,MAAM,KAAK,MAAM,IAAA,qHAAK;IACtB,MAAM,YAAY,GAAG,iBAAiB,IAAI,CAAC;IAE3C,MAAM,MAAM,0JAAmB,CAAC,QAAQ,iBAAiB,CAAC;IAC1D,MAAM,UAAkC,CAAC;IAEzC,KAAK,MAAM,KAAK,IAAI,eAAe,CAAE;QACnC,IACE,CAAC,EAAE,GAAG,KAAK,SAAS,EAAE,GAAG,KAAK,QAAQ,GAAG,KACzC,QAAQ,GAAG,IAAI,EAAE,OAAO,IACxB,QAAQ,GAAG,IAAI,EAAE,OAAO,EACxB;YACA,OAAO,CAAC,EAAE,WAAW,CAAC,GAAG,EAAE,WAAW;QACxC;IACF;IAEA,uBAAuB;IACvB,KAAK,MAAM,CAAC,IAAI,MAAM,IAAI,OAAO,OAAO,CAAC,WAAY;QACnD,OAAO,CAAC,GAAG,GAAG;IAChB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///Users/hung.doan/Documents/GitHubPersonal/nutrition-app/components/FoodRow.tsx"],"sourcesContent":["// components/FoodRow.tsx\n\"use client\";\n\nimport { useEffect, useMemo } from \"react\";\n\ntype FoodCatalogItem = {\n  term: string;\n  name: string;\n};\n\ntype FoodFromDB = {\n  term: string;\n  name: string;\n  grams?: number;\n};\n\ntype SelectedFood = {\n  name: string;\n  term: string;\n  quantity?: number;\n};\n\ntype FoodRowProps = {\n  food: FoodFromDB;\n  selected?: SelectedFood;\n  onChange?: (entry: SelectedFood) => void;\n  catalog?: FoodCatalogItem[];\n};\n\nconst normalize = (s: string) => s.trim().toLowerCase();\n\nexport default function FoodRow({\n  food,\n  selected,\n  onChange,\n  catalog,\n}: FoodRowProps) {\n  const normalizedName = normalize(food.name);\n\n  const foodsSelected = (catalog ?? []) as FoodCatalogItem[];\n\n  const catalogFood = useMemo(() => {\n    return foodsSelected.find((f) => normalize(f.name) === normalizedName);\n  }, [normalizedName, foodsSelected]);\n\n  const term = catalogFood?.term ?? normalizedName;\n  const name = catalogFood?.name ?? food.name;\n  const quantity = food.grams;\n\n  useEffect(() => {\n    if (!onChange) return;\n\n    if (\n      selected?.term !== term ||\n      selected?.name !== name ||\n      selected?.quantity !== quantity\n    ) {\n      onChange({ term, name, quantity });\n    }\n  }, [term, name, quantity, selected, onChange]);\n\n  return (\n    <div className=\"w-[70%] flex justify-between text-sm text-[var(--accent)]\">\n      <div>{term}</div>\n      <div className=\"text-[var(--accent)]\">\n        {quantity ?? \"\"}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;;;AAHA,yBAAyB;AACzB;;AA4BA,MAAM,YAAY,CAAC,IAAc,EAAE,IAAI,GAAG,WAAW;AAEtC,SAAS,QAAQ,EAC9B,IAAI,EACJ,QAAQ,EACR,QAAQ,EACR,OAAO,EACM;;IACb,MAAM,iBAAiB,UAAU,KAAK,IAAI;IAE1C,MAAM,gBAAiB,WAAW,EAAE;IAEpC,MAAM,cAAc,IAAA,wKAAO;wCAAC;YAC1B,OAAO,cAAc,IAAI;gDAAC,CAAC,IAAM,UAAU,EAAE,IAAI,MAAM;;QACzD;uCAAG;QAAC;QAAgB;KAAc;IAElC,MAAM,OAAO,aAAa,QAAQ;IAClC,MAAM,OAAO,aAAa,QAAQ,KAAK,IAAI;IAC3C,MAAM,WAAW,KAAK,KAAK;IAE3B,IAAA,0KAAS;6BAAC;YACR,IAAI,CAAC,UAAU;YAEf,IACE,UAAU,SAAS,QACnB,UAAU,SAAS,QACnB,UAAU,aAAa,UACvB;gBACA,SAAS;oBAAE;oBAAM;oBAAM;gBAAS;YAClC;QACF;4BAAG;QAAC;QAAM;QAAM;QAAU;QAAU;KAAS;IAE7C,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;0BAAK;;;;;;0BACN,6LAAC;gBAAI,WAAU;0BACZ,YAAY;;;;;;;;;;;;AAIrB;GAtCwB;KAAA"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/hung.doan/Documents/GitHubPersonal/nutrition-app/components/WeekChart.tsx"],"sourcesContent":["// components/WeekChart.tsx\n\"use client\";\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  TooltipProps,\n} from \"recharts\";\n\ntype DayLog = {\n  date: string;\n  microAvg: number;\n};\n\ntype ChartRow = {\n  day: string;\n  value: number | null;\n};\n\nconst DAY_LABELS = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\n\nexport default function WeekChart({\n  days,\n}: {\n  days: (DayLog | null)[];\n}) {\n  const data: ChartRow[] = days.map((d, i) => ({\n    day: DAY_LABELS[i].slice(0, 2),\n    value: d?.microAvg ?? null,\n  }));\n\nconst tooltipFormatter: TooltipProps<number, string>[\"formatter\"] = (value) => [\n  `${value}%`,\n  \"Micros\",\n];\n\n  return (\n    <div style={{ width: 220, height: 96 }}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart\n          data={data}\n          margin={{ top: 8, right: 8, left: 0, bottom: 8 }}\n        >\n          <XAxis\n            dataKey=\"day\"\n            tick={(props: any) => {\n              const { x, y, payload } = props;\n              const index = payload.index as number;\n              const isWeekend = index >= 5;\n\n              return (\n                <text\n                  x={x}\n                  y={y + 10}\n                  textAnchor=\"middle\"\n                  fontSize={10}\n                  fill={isWeekend ? \"var(--accent)\" : \"currentColor\"}\n                >\n                  {payload.value}\n                </text>\n              );\n            }}\n          />\n\n          <YAxis\n            domain={[0, 100]}\n            tickFormatter={(v: number, index: number) => `${v}%`}\n            tick={{ fontSize: 10 }}\n            width={40}\n          />\n\n          <Tooltip\n            formatter={tooltipFormatter}\n            labelFormatter={(label) => `Day ${DAY_LABELS[data.findIndex(d => d.day === label)]}`}\n          />\n\n          <Line\n            type=\"monotone\"\n            dataKey=\"value\"\n            stroke=\"var(--accent)\"\n            strokeWidth={2}\n            dot={{ r: 3 }}\n            activeDot={{ r: 4 }}\n            connectNulls={false}\n            isAnimationActive={false}\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA,2BAA2B;AAC3B;;;AAsBA,MAAM,aAAa;IAAC;IAAU;IAAW;IAAa;IAAY;IAAU;IAAY;CAAS;AAElF,SAAS,UAAU,EAChC,IAAI,EAGL;IACC,MAAM,OAAmB,KAAK,GAAG,CAAC,CAAC,GAAG,IAAM,CAAC;YAC3C,KAAK,UAAU,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG;YAC5B,OAAO,GAAG,YAAY;QACxB,CAAC;IAEH,MAAM,mBAA8D,CAAC,QAAU;YAC7E,GAAG,MAAM,CAAC,CAAC;YACX;SACD;IAEC,qBACE,6LAAC;QAAI,OAAO;YAAE,OAAO;YAAK,QAAQ;QAAG;kBACnC,cAAA,6LAAC,6LAAmB;YAAC,OAAM;YAAO,QAAO;sBACvC,cAAA,6LAAC,qKAAS;gBACR,MAAM;gBACN,QAAQ;oBAAE,KAAK;oBAAG,OAAO;oBAAG,MAAM;oBAAG,QAAQ;gBAAE;;kCAE/C,6LAAC,iKAAK;wBACJ,SAAQ;wBACR,MAAM,CAAC;4BACL,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,GAAG;4BAC1B,MAAM,QAAQ,QAAQ,KAAK;4BAC3B,MAAM,YAAY,SAAS;4BAE3B,qBACE,6LAAC;gCACC,GAAG;gCACH,GAAG,IAAI;gCACP,YAAW;gCACX,UAAU;gCACV,MAAM,YAAY,kBAAkB;0CAEnC,QAAQ,KAAK;;;;;;wBAGpB;;;;;;kCAGF,6LAAC,iKAAK;wBACJ,QAAQ;4BAAC;4BAAG;yBAAI;wBAChB,eAAe,CAAC,GAAW,QAAkB,GAAG,EAAE,CAAC,CAAC;wBACpD,MAAM;4BAAE,UAAU;wBAAG;wBACrB,OAAO;;;;;;kCAGT,6LAAC,qKAAO;wBACN,WAAW;wBACX,gBAAgB,CAAC,QAAU,CAAC,IAAI,EAAE,UAAU,CAAC,KAAK,SAAS,CAAC,CAAA,IAAK,EAAE,GAAG,KAAK,OAAO,EAAE;;;;;;kCAGtF,6LAAC,+JAAI;wBACH,MAAK;wBACL,SAAQ;wBACR,QAAO;wBACP,aAAa;wBACb,KAAK;4BAAE,GAAG;wBAAE;wBACZ,WAAW;4BAAE,GAAG;wBAAE;wBAClB,cAAc;wBACd,mBAAmB;;;;;;;;;;;;;;;;;;;;;;AAM/B;KArEwB"}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":["file:///Users/hung.doan/Documents/GitHubPersonal/nutrition-app/components/BottomNav.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"@/lib/firebase\";\n\nfunction logoutHandler () {\n  signOut(auth);\n  window.location.href = \"/\"; // Redirect to login page\n}\n\nexport default function BottomNav() {\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-[var(--background)] border-t border-[var(--border)]\">\n      <div className=\"max-w-md mx-auto flex justify-around py-3\">\n        <Link href=\"/\">Home</Link>\n        <Link href=\"/log\">Log</Link>\n        <Link href=\"/history\">History</Link>\n        <Link href=\"/recommendations\">Recommendations</Link>\n        <Link href=\"/add\">Add</Link>\n        <button onClick={logoutHandler}>Logout</button>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;;;;;AAEA,SAAS;IACP,IAAA,wKAAO,EAAC,0HAAI;IACZ,OAAO,QAAQ,CAAC,IAAI,GAAG,KAAK,yBAAyB;AACvD;AAEe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,0KAAI;oBAAC,MAAK;8BAAI;;;;;;8BACf,6LAAC,0KAAI;oBAAC,MAAK;8BAAO;;;;;;8BAClB,6LAAC,0KAAI;oBAAC,MAAK;8BAAW;;;;;;8BACtB,6LAAC,0KAAI;oBAAC,MAAK;8BAAmB;;;;;;8BAC9B,6LAAC,0KAAI;oBAAC,MAAK;8BAAO;;;;;;8BAClB,6LAAC;oBAAO,SAAS;8BAAe;;;;;;;;;;;;;;;;;AAIxC;KAbwB"}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///Users/hung.doan/Documents/GitHubPersonal/nutrition-app/app/history/HistoryClient.tsx"],"sourcesContent":["// app/history/HistoryClient.tsx\n\"use client\";\n\nimport { getDailyTargets } from \"@/lib/recommendationEngine\";\nimport { useEffect, useState } from \"react\";\nimport { useAuth } from \"@/app/providers/AuthProviders\";\nimport { getDB, initDB, updateDB } from \"@/lib/db\";\nimport FoodRow from \"@/components/FoodRow\";\nimport WeekChart from \"@/components/WeekChart\";\nimport BottomNav from \"@/components/BottomNav\";\n\nconst MICROS = [\n  \"vitamin_a\",\n  \"vitamin_k\",\n  \"vitamin_e\",\n  \"calcium\",\n  \"potassium\",\n  \"zinc\",\n  \"vitamin_c\",\n  \"folate\",\n  \"vitamin_b12\",\n  \"fiber\",\n  \"iron\",\n  \"magnesium\",\n  \"sodium\",\n  \"vitamin_d\",\n];\n\nconst WEEK_START = 2;\n\ntype DayLog = {\n  date: string;\n  foods: any[];\n  microAvg: number;\n};\n\ntype WeekLog = {\n  start: string;\n  days: (DayLog | null)[];\n};\n\nfunction startOfWeek(date: Date) {\n  const d = new Date(date);\n  const diff = (d.getDay() - WEEK_START + 7) % 7;\n  d.setDate(d.getDate() - diff);\n  d.setHours(0, 0, 0, 0);\n  return d;\n}\n\nconst iso = (d: Date) => d.toISOString().slice(0, 10);\n\nconst addDays = (d: Date, n: number) => {\n  const x = new Date(d);\n  x.setDate(x.getDate() + n);\n  return x;\n};\n\nasync function buildWeeks(db: any): Promise<WeekLog[]> {\n  const dates = Object.keys(db.foodLog || {}).sort();\n  if (!dates.length) return [];\n\n  const profile = db.userProfile;\n  const targets = await getDailyTargets(profile);\n  const map = new Map<string, Map<string, DayLog>>();\n\n  for (const dateStr of dates) {\n    const foods = db.foodLog[dateStr] ?? [];\n    const date = new Date(dateStr);\n    const weekStart = iso(startOfWeek(date));\n\n    const dailyTotals: Record<string, number> = {};\n\n    for (const food of foods) {\n      const nutrients = food.nutrients ?? {};\n      for (const id of MICROS) {\n        const amount = nutrients[id];\n        if (typeof amount !== \"number\") continue;\n        dailyTotals[id] = (dailyTotals[id] ?? 0) + amount;\n      }\n    }\n\n    const perNutrientProgress: number[] = [];\n\n    for (const id of MICROS) {\n      const target = targets[id];\n      const intake = dailyTotals[id];\n      if (typeof target !== \"number\" || typeof intake !== \"number\") continue;\n      const progress = Math.min((intake / target) * 100, 100);\n      perNutrientProgress.push(progress);\n    }\n\n    if (!perNutrientProgress.length) continue;\n\n    const dayAvg =\n      Math.round(\n        (perNutrientProgress.reduce((s, v) => s + v, 0) /\n          perNutrientProgress.length) *\n          100\n      ) / 100;\n\n    if (!map.has(weekStart)) {\n      map.set(weekStart, new Map());\n    }\n\n    map.get(weekStart)!.set(dateStr, {\n      date: dateStr,\n      foods,\n      microAvg: dayAvg,\n    });\n  }\n\n  return Array.from(map.entries())\n    .map(([start, dayMap]) => {\n      const base = new Date(start);\n\n      const days: (DayLog | null)[] = Array.from({ length: 7 }, (_, i) => {\n        const key = iso(addDays(base, i));\n        return dayMap.get(key) ?? null;\n      });\n\n      return { start, days };\n    })\n    .sort((a, b) => b.start.localeCompare(a.start));\n}\n\nfunction formatWeekRange(start: string) {\n  const s = new Date(start);\n  const e = addDays(s, 6);\n  return `${s.toLocaleDateString(undefined, {\n    month: \"short\",\n    day: \"numeric\",\n  })} – ${e.toLocaleDateString(undefined, {\n    month: \"short\",\n    day: \"numeric\",\n  })}`;\n}\n\nexport default function HistoryClient() {\n  const [weeks, setWeeks] = useState<WeekLog[]>([]);\n  const { user, loading: authLoading } = useAuth();\n  const [catalog, setCatalog] = useState<any[]>([]);\n\n  const refresh = async () => {\n    await initDB();\n    const db = await getDB();\n    // debug: log a small sample of the stored foodLog to the browser console\n    try {\n      // show up to 3 date entries and one sample food per date\n      const sample = Object.entries(db.foodLog || {}).slice(0, 3).map(([d, foods]) => ({ date: d, count: (foods || []).length, sample: (foods || [])[0] }));\n      // eslint-disable-next-line no-console\n      console.log(\"DB foodLog sample:\", sample);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.log(\"Failed to inspect db.foodLog\", e);\n    }\n\n    // fetch catalog once (requires auth token)\n    try {\n      if (user) {\n        const token = await user.getIdToken();\n        const res = await fetch(`/api/foods?page=1&limit=200`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        if (res.ok) {\n          const body = await res.json();\n          setCatalog(body?.foods ?? []);\n        }\n      }\n    } catch (e) {\n      // ignore catalog fetch errors; history still works from db.foodLog\n    }\n\n    setWeeks(await buildWeeks(db));\n  };\n\n  useEffect(() => {\n    // wait until auth is resolved before attempting DB access to avoid\n    // transient \"User not authenticated\" errors when the page first mounts\n    if (!authLoading) {\n      refresh();\n    }\n  }, [authLoading, user?.uid]);\n\n  if (authLoading) {\n    return (\n      <div className=\"p-4\">\n        <h1 className=\"text-xl font-semibold\">History</h1>\n        <div className=\"mt-4 text-sm text-neutral-500\">Loading history…</div>\n        <BottomNav />\n      </div>\n    );\n  }\n\n  const deleteFood = async (date: string, index: number) => {\n    if (!window.confirm(\"Delete this food entry?\")) return;\n\n    await updateDB((db) => {\n      db.foodLog[date].splice(index, 1);\n      if (db.foodLog[date].length === 0) {\n        delete db.foodLog[date];\n      }\n    });\n\n    refresh();\n  };\n\n  const deleteDay = async (date: string) => {\n    if (!window.confirm(\"Delete this entire day and all its foods?\")) return;\n\n    await updateDB((db) => {\n      delete db.foodLog[date];\n    });\n\n    refresh();\n  };\n\n  return (\n    <div className=\"p-4 space-y-10\">\n      <h1 className=\"text-xl font-semibold\">History</h1>\n\n      {weeks.map((week) => {\n        const visibleDays = week.days.filter(Boolean) as DayLog[];\n        const missingCount = week.days.length - visibleDays.length;\n\n        return (\n          <section\n            key={week.start}\n            className=\"rounded-xl border border-muted/40 p-4 space-y-4\"\n          >\n            <header className=\"flex items-center justify-between\">\n              <div className=\"space-y-1\">\n                <h2 className=\"text-sm font-medium\">\n                  {formatWeekRange(week.start)}\n                </h2>\n                {missingCount > 0 && (\n                  <p className=\"text-xs text-muted-foreground\">\n                    {missingCount} day{missingCount > 1 ? \"s\" : \"\"} with no data\n                  </p>\n                )}\n              </div>\n              <WeekChart days={week.days} />\n            </header>\n\n            <div className=\"space-y-4\">\n              {[...visibleDays].reverse().map((day) => (\n                <div key={day.date} className=\"space-y-2\">\n                  <div className=\"flex flex-row items-center justify-between border-b pb-1 border-[var(--muted)]\">\n                    <div className=\"w-[70%] flex flex-row items-center justify-between\">\n                      <h3 className=\"text-xs font-medium text-[var(--foreground)]\">\n                        {day.date}\n                      </h3>\n                      <div className=\"text-xs text-muted-foreground\">\n                        Quantity\n                      </div>\n                    </div>\n                    <button\n                      className=\"text-xs text-red-500\"\n                      onClick={() => deleteDay(day.date)}\n                    >\n                      Delete day\n                    </button>\n                  </div>\n\n                            <div className=\"space-y-1\">\n                              {day.foods.map((food, i) => (\n                                <div\n                                  key={i}\n                                  className=\"flex flex-row items-center justify-between gap-2\"\n                                >\n                                  <FoodRow food={food} catalog={catalog} />\n                                  <button\n                                    className=\"text-xs text-red-500\"\n                                    onClick={() => deleteFood(day.date, i)}\n                                  >\n                                    ✕\n                                  </button>\n                                </div>\n                              ))}\n                            </div>\n                </div>\n              ))}\n            </div>\n          </section>\n        );\n      })}\n\n      <BottomNav />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}