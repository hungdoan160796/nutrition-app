{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/hung.doan/Documents/GitHubPersonal/nutrition-app/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport {\n  getAuth,\n  setPersistence,\n  browserLocalPersistence,\n} from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY!,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN!,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID!,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET!,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID!,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID!,\n};\n\nconst app = initializeApp({\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n});\n\nexport const auth = getAuth(app);\n\nsetPersistence(auth, browserLocalPersistence);\n\nexport const db = getFirestore(app);\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAMA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,IAAA,iLAAa,EAAC;IACxB,MAAM;IACN,UAAU;IACV,SAAS;AACX;AAEO,MAAM,OAAO,IAAA,6KAAO,EAAC;AAE5B,IAAA,oLAAc,EAAC,MAAM,6LAAuB;AAErC,MAAM,KAAK,IAAA,iLAAY,EAAC"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///Users/hung.doan/Documents/GitHubPersonal/nutrition-app/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport {\n  onAuthStateChanged,\n  getRedirectResult,\n  User,\n} from \"firebase/auth\";\nimport { auth } from \"@/lib/firebase\";\n\ntype AuthContextType = {\n  user: User | null;\n  loading: boolean;\n};\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  loading: true,\n});\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    let unsub = () => {};\n\n    (async () => {\n      try {\n        // ðŸ”‘ MUST resolve redirect FIRST\n        await getRedirectResult(auth);\n      } catch (e) {\n        console.error(\"Redirect auth error:\", e);\n      }\n\n      // ðŸ”‘ THEN listen for auth state\n      unsub = onAuthStateChanged(auth, (firebaseUser) => {\n        setUser(firebaseUser);\n        setLoading(false);\n      });\n    })();\n\n    return () => unsub();\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ user, loading }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAKA;AARA;;;;;AAeA,MAAM,4BAAc,IAAA,sNAAa,EAAkB;IACjD,MAAM;IACN,SAAS;AACX;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ,KAAO;QAEnB,CAAC;YACC,IAAI;gBACF,iCAAiC;gBACjC,MAAM,IAAA,uLAAiB,EAAC,uHAAI;YAC9B,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC,wBAAwB;YACxC;YAEA,gCAAgC;YAChC,QAAQ,IAAA,wLAAkB,EAAC,uHAAI,EAAE,CAAC;gBAChC,QAAQ;gBACR,WAAW;YACb;QACF,CAAC;QAED,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC1C;;;;;;AAGP;AAEO,SAAS;IACd,OAAO,IAAA,mNAAU,EAAC;AACpB"}}]
}